<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">    
    <title>IFE ECMAScript</title>
</head>
<body>        
    <input id="dec-number" type="number" placeholder="输入一个十进制非负整数">
    <input id="bin-bit" type="number" placeholder="输入转化后二进制数字位数">
    <button id="trans-btn">转化为二进制</button>
    <p id="result">运算结果</p>
    <script>
    var num1 = document.getElementById("dec-number");
    var result = document.getElementById("result");
    var transbtn = document.getElementById("trans-btn");
    function dec2bin(decNumber) {
        if (decNumber < 1) {
            alert("请输入正整数");
        }else if (decNumber == 1) {
            var record1 = new Array();
            return record1;
        }else if (decNumber > 1 && decNumber < 2) {
            alert("请输入正整数");
        }else {
            var test = decNumber.toString();
            for (var i = test.length - 1; i >= 0; i--) {
                if(test.charAt(i) == "."){
                    alert("请输入正整数,当前只显示整数部分的二进制数");
                }
            }
            var record2 = new Array();
            while(decNumber > 1){
                record2.unshift(parseInt(decNumber % 2));
                decNumber = parseInt(decNumber / 2);
            }
            return record2;
        }
    }
    
    var binbit = document.getElementById("bin-bit");
    transbtn.onclick = function(){
        var num2 = dec2bin(Number(num1.value));
        num2.unshift(1);
        var compnum1 = num2.length;
        var compnum2 = Number(binbit.value);
        if  (compnum2 < compnum1) {
            result.innerHTML="转换结果为:"+num2.join("");
            console.log(document.innerHTML="bin-bit不够大！")
        }else{
            var gap = compnum2 - compnum1;
            for (var  i = gap - 1; i >= 0; i--) {
                num2.unshift(0);         
            }
            result.innerHTML="转换结果为:"+num2.join("");
        }
    }
    </script>
</body>
</html>